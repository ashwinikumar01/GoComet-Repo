<app-loader *ngIf="isLoading"></app-loader>

<section *ngIf="!isLoading" class="productDetails" id="productDetails">
  <div class="container-fluid py-5 mt-3 mainSection">
    <div class="row">
      <div class="col-xl-7">
        <div class="row py-2">
          <img class="pic0 mx-auto d-block image-responsive" [src]="image" />
        </div>
        <div class="row other">
          <div>
            <div class="d-flex flex-row thumbnails pt-3">
              <div
                (click)="onHoverImage(i, 'click')"
                class="tb tb-active"
                (mouseenter)="onHoverImage(i, 'hover')"
                *ngFor="let img of imagesList; let i = index"
              >
                <img class="thumbnail-img fit-image" [src]="img" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-5 pd-lg-5 pt-1 pb-5">
        <h3 class="product-title">
          {{ product?.name }}
        </h3>
        <p class="product-description my-auto mx-auto py-3 text-justify">
          {{ product.processor }}
        </p>
        <div class="row justify-content-center">
          <div class="col-4">
            <p class="sys">
              Memory Size:
            </p>
          </div>
          <div class="col-8">
            <button
              *ngFor="let memorySize of product?.memory; let i = index"
              [ngStyle]="{
                'background-color':
                  selectedMemory === memorySize.size ? '#D3D3D3' : ''
              }"
              type="button"
              class="btn ml-1"
              style="border-color: grey; font-weight: bold;"
              (click)="getSelectedMemorySize(i)"
            >
              {{ memorySize.size }}GB
            </button>
          </div>
        </div>

        <h1 class="container"></h1>

        <div class="row py-3">
          <div class="col-6">
            <h5>Total Price :</h5>
          </div>
          <div class="col-6">
            <h5 class="float-right">
              {{ product?.price | currency }}
            </h5>
          </div>
        </div>

        <div class="row my-auto mx-auto">
          <button
            class="btn buy btn-block"
            [disabled]="!selectedMemory"
            (click)="addToCart()"
          >
            <i class="fa fa-shopping-cart"></i>
            Add to Cart
          </button>
        </div>

        <div class="row mt-5 pr-3">
          <h5 class="feature-title pl-4">Features:</h5>
          <ul style="list-style-type: square;">
            <li>{{ product?.display }}</li>
            <li>{{ product?.waterResistant }}</li>
            <li>{{ product?.camera }}</li>
            <li>{{ product?.frontCamera }}</li>
            <li>{{ product?.futures }}</li>
            <li>{{ product?.processor }}</li>
            <li>{{ product?.charging }}</li>
          </ul>
        </div>
      </div>
    </div>

    <h1 class="container-fluid mb-5"></h1>
    <h6>Product Information</h6>
    <table class="table table-bordered mt-3">
      <tbody>
        <tr>
          <td
            style="
              color: #090b45;
              font-size: 0.9rem;
              font-weight: 500;
              background-color: rgb(243, 241, 241);
            "
          >
            Display
          </td>
          <td style="color: rgba(94, 94, 94, 0.733); font-size: 0.9rem;">
            {{ product?.display }}
          </td>
        </tr>
        <tr>
          <td
            style="
              color: #090b45;
              font-size: 0.9rem;
              font-weight: 500;
              background-color: rgb(243, 241, 241);
            "
          >
            Water Resistant
          </td>
          <td style="color: rgba(94, 94, 94, 0.733); font-size: 0.9rem;">
            {{ product?.waterResistant }}
          </td>
        </tr>
        <tr>
          <td
            style="
              color: #090b45;
              font-size: 0.9rem;
              font-weight: 500;
              background-color: rgb(243, 241, 241);
            "
          >
            Front Camera
          </td>
          <td style="color: rgba(94, 94, 94, 0.733); font-size: 0.9rem;">
            {{ product?.frontCamera }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
